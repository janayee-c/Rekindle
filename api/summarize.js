const cohere = require("cohere-ai");
cohere.init("4LGbst3G6FsVdBZScp0NRJDh06i94myAXMv6Z0zS");

export default async function summarize(req, res) {
    console.log(req);
    const response = await cohere.generate({
        model: 'large',
        prompt: 'Passage: Hello there. I don\'t know what to do. I feel exhausted/tired/burnt out. I don\'t have anyone to talk to -- everyone ignores my cries for help and I feel hopeless. I have struggled with depression and anxiety recently, but am scared to let anyone know or reach out to medical or professional help. The pain I am in is excruciating. I feel like I can\'t talk to anyone or reveal the trauma that I\'ve gone through.\n \nTLDR: This person feels unsupported and alienated.\n--\nPassage: I feel I am in danger and constantly on edge. My family/parent/partner/spouse verbally and physically abuses/hits me. I feel completely worthless and I don\'t want to live in this situation any more. I feel like he/she/they might/will hurt me if I tell anyone. I don\'t know what to do.\n\nTLDR: This person is in danger / high risk situation.\n--\nPassage: I am so tired. I can\'t think of a single reason why to keep on living. I hurt myself/cut/self-harm regularly because it is the only way I can escape the emotions and frustration I have toward myself and/or my situation. I self-harm to numb the pain. I don\'t know why I am typing to this hotline, I just want everything to stop. I feel like nothing could convince me to keep on going. I want to kill myself.\n\nTLDR: This person poses a high risk to themselves.\n--\nPassage: I hear voices all the time telling me to kill myself. I hate myself and everything that I do. I can\'t seem to get anything right. If I want everything to end. I just want to sleep and never wake up.\n\nTLDR: This person is at risk of suicide.\n--\nPassage: I hate my brother so much. He is so annoying. I just want him to stop. I consider hurting him every day for the way he hurts me. I\'m not a bad person I swear, I just want to feel validated for my feelings and for him to know how much he\'s hurt me.\n\nTLDR: This person is at risk of hurting someone in their immediate range.\n-- \nPassage: My mom doesn\'t love me. She is too busy with herself and I feel like she doesn\'t care about me. I just want to live far away from her. I want to move and run away and have freedom from my confinement. I don\'t deserve the mistreatment and hurt that she\'s caused me all of these years. This is fucked. I\'m so tired of this shit.\n\nTLDR: This person is struggling with their current living environment.\n--\nPassage: I\'m so tired. I am going through a lot right now. I feel worthless even though I am productive. I don\'t know what to do.\n\nTLDR: This person is feeling trapped, overwhelmed, and unsure of what to do.\n--\nPassage: My family drives me crazy, I can\'t live with them anymore. I don\'t know what to do other than run as far as I can away. I wish someone would understand me.\n\nTLDR: This person is feeling victimized.\n--\nPassage: I feel like I can\'t breathe at work. I\'m so tired and I hate this job, my boss hates me and I don\'t have any relationship with my coworkers. It\'s exhausting. I don\'t know what to do -- my family depends on me financially and I feel like I can\'t tell them how I feel. Every day feels like a living hell.\n\nTLDR: This person is trapped in a distressing environment.\n--\nPassage: I hate school. I feel like a joke everytime I go. I suck at school and anything academic and I\'m at risk of failing. I don\'t know how to break the news to my family because they already think I\'m a failure. I want to run away, drop out and just escape this hell.\n\nTLDR: This person is struggling academically and socially. Feelings of isolation, failure, guilt and frustration.\n--\nPassage: I\'ve struggled with sobriety for as long as I can remember. I can\'t forgive myself for falling into this endless hell of addiction. I\'ve been on the streets for so long, I don\'t see a future where I\'m not unemployed and completely a wreck.\n\nTLDR: This person may be at risk of substance abuse and/or homelessness.\n-- \nPassage: I\'m so tired. I\'m going through so much and I don\'t know what to do any more. I wish there was a way to stop.\n\nTLDR: This person is struggling with intense emotions, pain, and/or depression.\n--\nPassage: I can\'t take care of my child. I\'m exhausted. I can\'t afford to feed him or clean him and I don\'t know what to do anymore. I\'m a single mother and I don\'t know where to turn.\n\nTLDR: This person is struggling with current financial situation and family care.\n--\nPassage: I can\'t sleep. I can\'t take it anymore. I got drunk last night and spent all my savings on it. I can\'t do this anymore.\n\nTLDR: This person may be at risk of substance abuse.',
        max_tokens: 50,
        temperature: 0.8,
        k: 0,
        p: 1,
        frequency_penalty: 0,
        presence_penalty: 0,
        stop_sequences: ["--"],
        return_likelihoods: 'NONE'
    });
    res.status(200).json(response)
}